# Workshop 4: การรวมศูนย์ข้อมูลและการอัปเกรดรายงาน (Master Data & Reconnect)

## สถานการณ์จำลอง

เมื่อเริ่มต้นงบประมาณใหม่ ท่านพบว่าต้องสร้างรายงานใน Looker Studio ที่มีหน้าตาแบบเดิมซ้ำอีกครั้ง เพียงแต่เปลี่ยนข้อมูลให้เป็นของปีงบประมาณใหม่ จึงสงสัยว่ามีวิธีสร้างรายงานเพียงครั้งเดียว แต่ใช้ได้ตลอดหรือไม่

## วัตถุประสงค์

1. รวมข้อมูลหลายปีงบประมาณให้อยู่ในตารางเดียว
2. สร้างโครงสร้าง Master Data ที่รองรับปีใหม่ในอนาคต
3. เปลี่ยนแหล่งข้อมูลรายงานให้ชี้ไปที่แผ่นงาน **Master_Data**
4. เพิ่มตัวกรองปีงบประมาณเพื่อให้ผู้ใช้เลือกดูข้อมูลตามปีที่ต้องการ

## การสร้างแผ่นงาน Master_Data

1. สร้างแผ่นงานใหม่ชื่อ **Master_Data**
2. กำหนดโครงสร้างคอลัมน์:  
   - คอลัมน์ A = **ปีงบประมาณ**  
   - คอลัมน์ถัดไปใช้หัวตารางเดิมจากแต่ละปี

## การรวมข้อมูลทุกปีเข้าด้วยกัน

1. คัดลอกข้อมูลจากแผ่นงานปี 65 แล้วใส่ปี `2565` ในคอลัมน์ปีงบประมาณทุกแถว  
2. ทำซ้ำกับปี 66 (`2566`) และปี 67 (`2567`)  
3. ตรวจสอบให้โครงสร้างคอลัมน์ตรงกันทุกปี

ผลลัพธ์: มีตารางยาวรวมทุกปีอยู่ในแผ่นงาน **Master_Data** แผ่นเดียว

## การ Reconnect แหล่งข้อมูลไปที่ Master_Data

1. ใน Looker Studio ไปที่เมนู **Resource > Manage added data sources**  
2. กด **Edit** แหล่งข้อมูลเดิม  
3. เปลี่ยนแผ่นงานเป็น **Master_Data** แล้วกด **Reconnect**

## การเพิ่มตัวกรองปีงบประมาณ

1. เพิ่มตัวเลือกปี: ไปที่ **Add a control > Drop-down list**  
2. ตั้งค่า Field = ปีงบประมาณ  
3. ทดสอบในโหมด View แล้วเปลี่ยนปีใน Dropdown กราฟทั้งหมดควรอัปเดตตามปีที่เลือก
